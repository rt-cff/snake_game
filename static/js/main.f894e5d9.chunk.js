(this["webpackJsonpsnake-game"]=this["webpackJsonpsnake-game"]||[]).push([[0],{15:function(e,t,n){e.exports=n(39)},21:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),o=n.n(r),u=n(2),s=n(1),i=n(14),f=(n(19),["left","top","right","down"]),l=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=Math.floor(14*Math.random()),a=Math.floor(11*Math.random());if(t.length>=153)throw"No More Available Space";return t.some((function(e){return e.x===n&&e.y===a}))?e(t):{x:n,y:a}},d=function(e){var t=e.direct,n=e.lastDirect,a=e.snake,c=a[0],r=c.x,o=c.y,s=f.indexOf(t[0]||n);return s%2===0?r+=s-1:o+=s-2,[{x:r,y:o}].concat(Object(u.a)(a.slice(0,-1)))},O={snake:[{x:6,y:5}],direct:[f[1]],lastDirect:f[1],food:l([{x:6,y:5}]),foodExist:!1,stop:!0,lastLocation:{}},E=function(e,t){var n=t.type,a=t.payload;switch(n){case C.CHANGE_DIRECTION:return e.stop?e:function(e,t){var n=e.direct,a=e.lastDirect,c=n.slice(-1)[0]||a;return c===t||2===Math.abs(f.indexOf(t)-f.indexOf(c))?e:Object(s.a)({},e,{direct:[].concat(Object(u.a)(e.direct),[t])})}(e,a);case C.MOVE:return Object(s.a)({},e,{snake:d(e),lastLocation:e.snake.slice(-1)[0],direct:e.direct.slice(1),lastDirect:e.direct[0]||e.lastDirect});case C.CREATE_FOOD:return Object(s.a)({},e,{food:l(e.snake),foodExist:!0});case C.EAT_FOOD:return Object(s.a)({},e,{},a,{snake:[].concat(Object(u.a)(e.snake),[a]),foodExist:!1});case C.STOP:return Object(s.a)({},e,{stop:!0});case C.RESET:return e.stop?Object(s.a)({},O,{stop:!1}):e;case C.CHECK_STATUS:return e.snake[0].x<0||e.snake[0].y<0||e.snake[0].x>13||e.snake[0].y>10||e.snake.slice(1).some((function(t){return t.x===e.snake[0].x&&t.y===e.snake[0].y}))?Object(s.a)({},e,{stop:!0}):e;case C.CHECK_FOOD_STATUS:return e.snake[0].x===e.food.x&&e.snake[0].y===e.food.y?Object(s.a)({},e,{snake:[].concat(Object(u.a)(e.snake),[e.lastLocation]),food:l(e.snake),foodExist:!0}):e;default:return e}},m=function(e,t,n){var r=Object(a.createContext)();return{Context:r,Provider:function(o){var u=o.children,f=Object(a.useReducer)(e,n),l=Object(i.a)(f,2),d=l[0],O=l[1],E=Object(a.useMemo)((function(){return function(e,t,n){var a={},c=function(n){a[n]=function(){console.log("Actions Dispatch: ",n),e[n](t).apply(void 0,arguments)}};for(var r in e)c(r);return a}(t,O)}),[t,O]);return console.log("here",u),c.a.createElement(r.Provider,{value:Object(s.a)({state:d},E)},u)},useContext:function(){return Object(a.useContext)(r)}}}((function(){var e=E.apply(void 0,arguments);return console.log("Reducer State ",e),e}),{changeDirection:function(e){return function(t){e({type:C.CHANGE_DIRECTION,payload:f[t]})}},move:function(e){return function(){e({type:C.MOVE})}},createFood:function(e){return function(){e({type:C.CREATE_FOOD})}},eatFood:function(e){return function(t){e({type:C.EAT_FOOD,payload:t})}},setStop:function(e){return function(){e({type:C.STOP})}},reset:function(e){return function(){e({type:C.RESET})}},checkStatus:function(e){return function(){e({type:C.CHECK_STATUS})}},checkFoodStatus:function(e){return function(){e({type:C.CHECK_FOOD_STATUS})}}},O),v=m.Context,b=m.Provider,p=m.useContext,C={MOVE:"MOVE",CHANGE_DIRECTION:"CHANGE_DIRECTION",CREATE_FOOD:"CREATE_FOOD",EAT_FOOD:"EAT_FOOD",STOP:"STOP",RESET:"RESET",CHECK_STATUS:"CHECK_STATUS",CHECK_FOOD_STATUS:"CHECK_FOOD_STATUS"},y=(n(21),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])}),T=(n(22),function(e,t){var n=e.children,r=p(),o=r.state,u=o.snake,s=(o.foodExist,o.food,o.stop),i=r.changeDirection,f=r.move,l=(r.createFood,r.eatFood,r.setStop,r.reset),d=r.checkStatus,O=r.checkFoodStatus,E=Object(a.useRef)();Object(a.useImperativeHandle)(t,(function(){return{focus:function(){E.current.focus()}}}));var m=Object(a.useCallback)((function(e){var t=e.keyCode;13===t&&l(),[37,38,39,40].includes(t)&&i(t-37)}),[l,i]),v=Object(a.useCallback)((function(){f(),d(),O()}),[f,d,O]);return y(v,s?null:250),c.a.createElement("div",{id:"container",ref:E,tabIndex:"0",onKeyDown:m,className:"body"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"score"},"Your Score: ",u.length-1),n))});T.displayName="Container";var k=c.a.forwardRef(T),S=c.a.memo((function(e){var t=e.active,n=e.head,a=e.food;return c.a.createElement("div",{className:"cell ".concat(t?"active":""," ").concat(n?"head":""," ").concat(a?"food":"")})})),x=n(5),j=n.n(x),h=function(e){var t=e.yaxis,n=p().state,r=n.snake,o=n.food,u=Object(a.useMemo)((function(){return j()(14).map(function(e,t,n){return function(a){return c.a.createElement(S,Object.assign({key:a},function(e,t,n,a){var c={};return c.active=e.filter((function(e){return e.y===a})).map((function(e){return e.x})).includes(n),c.head=e[0].y===a&&e[0].x===n,c.food=t.y===a&&t.x===n,c}(e,t,a,n)))}}(r,o,t))}),[r,o,t]);return c.a.createElement("div",{className:"row"},u)},D=0,_=function(e){var t=e.stop,n=e.onConfirm,a=0===D?{msg:"Welcome",btnTitle:"Start"}:{msg:"GameOver",btnTitle:"Reset"};return D++,t?c.a.createElement("div",{className:"msg"},c.a.createElement("div",{className:"msg-bg"}),c.a.createElement("div",null,c.a.createElement("div",{className:"msg-title"},a.msg),c.a.createElement("button",{onClick:n,className:"msg-btn"},a.btnTitle))):null};_.displayName="GameMsg";var g=c.a.memo(_),A=function(){var e=Object(a.useContext)(v),t=e.state.stop,n=e.reset,r=c.a.createRef();Object(a.useEffect)((function(){r.current.focus()}),[]);var o=Object(a.useMemo)((function(){return function(e){return console.log("memo"),j()(e).map((function(e){return c.a.createElement(h,{key:e,yaxis:e})}))}(11)}),[]);return c.a.createElement(k,{ref:r},c.a.createElement(g,{stop:t,onConfirm:n}),o)};o.a.render(c.a.createElement(b,null,c.a.createElement(A,null)),document.querySelector("#root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.f894e5d9.chunk.js.map